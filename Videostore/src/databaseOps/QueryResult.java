package databaseOps;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Collection;

import models.IDbModel;


public class QueryResult<T extends IDbModel> {
	public String sql = "";
	public Collection<T> queryResults;
	private ResultSet autoGeneratedKeys;
	public String resultStr;
	
	public T firstOrDefault(){
		try{
			return queryResults.iterator().next();
		}
		catch(Exception e){
			return null;
		}
	}
	
	public int getAutoGeneratedKey(){
		try {
			autoGeneratedKeys.next();
			return autoGeneratedKeys.getInt(1);
		} catch (SQLException e) {
			return -1;
		}
	}
	
	public void setAutoGeneratedKeys(ResultSet keyset){
		autoGeneratedKeys = keyset;
	}
}
